# Netlify configuration file
# For more information, see https://docs.netlify.com/configure-builds/file-based-configuration/

[build]
# Command to build the Next.js application
command = "next build"

# The directory that contains the built site
publish = ".next"

[dev]
# Local development server settings
command = "next dev"
port = 3000
publish = ".next"
targetPort = 3000
autoLaunch = true

# The functions directory for serverless functions, including Next.js API routes and server components.
[functions]
directory = ".netlify/functions-internal"

# Proper cache settings for Next.js assets
[[headers]]
for = "/_next/static/*"
[headers.values]
  Cache-Control = "public, max-age=31536000, immutable"

# Rewrite dynamic routes to the index for client-side routing
[[redirects]]
from = "/*"
to = "/.netlify/functions/___netlify-handler"
status = 200

